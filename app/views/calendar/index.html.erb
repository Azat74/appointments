<div class="container-fluid">
  <h1>Calendar</h1>
  <div class="row">
    <% for date in (Date.today..Date.today + 2.months) %>
      <div class="col-sm-3">
        <div>
          <div class="card-header">
            <%= date.strftime('%a %B %d') %>
          </div>
          <div class="card-body">
            <% reserved_times = @days[date] ? @days[date].collect { |a| a.appointment_time } : [] %>
            <% @times.each do |time| %>
              <% if reserved_times.include?(time) %>
                <div>
                  <%= time %>
                  <span class="badge badge-danger">Reserved</span>
                </div>
              <% else %>
                <div>
                  <%= time %>
                  <span class="badge badge-success">Free</span>
                </div>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
